<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>

    </style>
</head>
<body>
<div class="container-login">
    <h1>–í—Ö–æ–¥</h1>
    <form id="loginForm" action="/not-secured/v1/login" method="post">
        <!-- –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –≤—Ö–æ–¥–∞ -->
        <div class="login-methods">
            <div>
                <input type="radio" id="emailLogin" name="loginType" value="email" checked>
                <label for="emailLogin">Email</label>
            </div>
            <div>
                <input type="radio" id="passportLogin" name="loginType" value="passport">
                <label for="passportLogin">–ü–∞—Å–ø–æ—Ä—Ç</label>
            </div>
            <div>
                <input type="radio" id="phoneLogin" name="loginType" value="phone">
                <label for="phoneLogin">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            </div>
        </div>

        <!-- –ü–æ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞ -->
        <div id="emailField" class="active">
            <input type="email" name="email" placeholder="–í–≤–µ–¥–∏—Ç–µ Email">
        </div>

        <div id="passportField">
            <input type="text" name="passportId" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞">
        </div>

        <div id="phoneField">
            <div class="phone-wrapper">
                <input type="tel" name="phoneNumber" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
            </div>
        </div>

        <div style="position: relative; width: 100%; max-width: 300px; margin: 0 auto;">
            <input type="password" id="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required style="padding-right: 30px;">
            <!-- –≥–ª–∞–∑–∏–∫ —Å–ø—Ä–∞–≤–∞ -->
            <span id="togglePassword" style="
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        font-size: 18px;
        user-select: none;
    ">üëÅÔ∏è</span>
        </div>
        <script>
            const passwordInput = document.getElementById("password");
            const togglePassword = document.getElementById("togglePassword");

            togglePassword.addEventListener("click", () => {
                const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
                passwordInput.setAttribute("type", type);
            });
        </script>

        <button type="submit" class="btn">–í–æ–π—Ç–∏</button>
    </form>

    <p>–ï—â–µ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/not-secured/registration">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const emailRadio = document.getElementById("emailLogin");
        const passportRadio = document.getElementById("passportLogin");
        const phoneRadio = document.getElementById("phoneLogin");

        const emailField = document.getElementById("emailField");
        const passportField = document.getElementById("passportField");
        const phoneField = document.getElementById("phoneField");

        function updateFields() {
            emailField.classList.remove("active");
            passportField.classList.remove("active");
            phoneField.classList.remove("active");

            // –û—á–∏—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
            emailField.querySelector('input').value = "";
            passportField.querySelector('input').value = "";
            phoneField.querySelector('input').value = "";

            if (emailRadio.checked) emailField.classList.add("active");
            else if (passportRadio.checked) passportField.classList.add("active");
            else if (phoneRadio.checked) phoneField.classList.add("active");
        }

        emailRadio.addEventListener("change", updateFields);
        passportRadio.addEventListener("change", updateFields);
        phoneRadio.addEventListener("change", updateFields);

        updateFields();

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞ +7 –∫ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            const phoneInput = document.querySelector('input[name="phoneNumber"]');
            if (phoneInput.value && !phoneInput.value.startsWith("+7")) {
                phoneInput.value = "+7" + phoneInput.value;
            }
        });
    });




</script>
</body>
</html>
