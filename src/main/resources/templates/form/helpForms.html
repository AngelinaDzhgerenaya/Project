<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Заявки нуждающихся</title>
    <link rel="stylesheet" href="/css/style.css">

    <style>
        body {
            display: block !important;
            height: auto !important;
            padding: 30px;
            background: #f0f2f5;
        }
        h1 {
            text-align: left;
            margin-bottom: 20px;
            font-size: 28px;
        }
    </style>
</head>

<body>

<h1 style="margin-bottom: 25px;">Все заявки нуждающихся</h1>

<div class="layout">

    <!-- Левая панель фильтров -->
    <aside class="filters">

        <h2>Фильтры</h2>

        <form method="get" action="/not-secured/help">

            <!-- Город -->
            <label>Город</label>
            <input type="text"
                   name="city"
                   placeholder="Например: Казань"
                   th:value="${city}">

            <!-- Доступность -->
            <label>Доступное время</label>
            <input type="text"
                   name="availability"
                   placeholder="Например: по вечерам"
                   th:value="${availability}">

            <!-- Кому нужна помощь -->
            <label>Кому нужна помощь</label>
            <input type="text"
                   name="helpGroup"
                   placeholder="Например: пожилому человеку"
                   th:value="${helpGroup}">

            <!-- Состояние -->
            <label>Состояние здоровья / ситуация</label>
            <input type="text"
                   name="personCondition"
                   placeholder="Например: инвалидность"
                   th:value="${personCondition}">

            <!-- Требуемая помощь -->
            <label>Какая помощь требуется</label>
            <input type="text"
                   name="helpNeeded"
                   placeholder="Например: продукты"
                   th:value="${helpNeeded}">

            <button type="submit">Применить</button>

        </form>

    </aside>

    <!-- Правая часть: заявки -->
    <main class="content">

        <!-- Поиск сверху -->
        <div class="search-panel" style="margin-bottom: 20px;">

            <form method="get" action="/not-secured/help" class="search-bar">

                <input type="text"
                       name="query"
                       placeholder="Поиск по ключевым словам..."
                       th:value="${query}">

                <button type="submit">Найти</button>

            </form>

        </div>

        <!-- Если ничего не найдено -->
        <div th:if="${helps.size() == 0}">
            <p>Заявки не найдены.</p>
        </div>

        <!-- Список заявок -->
        <div th:each="h : ${helps}" class="card">

            <h3 th:text="${h.fullName}"></h3>

            <p><b>Город:</b> <span th:text="${h.city}"></span></p>
            <p><b>Возраст:</b> <span th:text="${h.age}"></span></p>
            <p><b>Доступность:</b> <span th:text="${h.availability}"></span></p>
            <p><b>Кому нужна помощь:</b> <span th:text="${h.helpGroup}"></span></p>
            <p><b>Требуемая помощь:</b> <span th:text="${h.helpNeeded}"></span></p>

            <a th:href="@{/not-secured/help/{id}(id=${h.id})}">
                Открыть анкету →
            </a>

        </div>

    </main>

</div>

</body>
</html>
